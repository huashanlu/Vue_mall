webpackJsonp([1],{341:function(t,n,e){"use strict";function i(t){d||e(363)}Object.defineProperty(n,"__esModule",{value:!0});var s=e(351),o=e.n(s);for(var r in s)"default"!==r&&function(t){e.d(n,t,function(){return s[t]})}(r);var a=e(369),c=e(199),d=!1,u=i,l=Object(c.a)(o.a,a.a,a.b,!1,u,"data-v-70e08b9c",null);l.options.__file="src\\components\\shoppingCart\\shoppingCart.vue",n.default=l.exports},351:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(201),s=e(365),o=function(t){return t&&t.__esModule?t:{default:t}}(s);n.default={data:function(){return{goodsList:[]}},computed:{calcTotalCount:function(){var t=0;return this.goodsList.forEach(function(n){n.isSelected&&(t+=n.buyCount)}),t},calcTotalPrice:function(){var t=0;return this.goodsList.forEach(function(n){n.isSelected&&(t+=n.buyCount*n.sell_price)}),t}},created:function(){this.getGoodsListData()},methods:{getGoodsListData:function(){var t=this,n=(0,i.getLocalGoods)(),e=[];for(var s in n)e.push(s);if(0!=e.length){var o="site/comment/getshopcargoods/"+e.join(",");this.$axios.get(o).then(function(e){e.data.message.forEach(function(t){t.buyCount=n[t.id],t.isSelected=!0}),t.goodsList=e.data.message})}},getCountChange:function(t){this.goodsList.forEach(function(n){n.id==t.goodsId&&(n.buyCount=t.count)}),this.$store.commit("updateGoods",t)},deletGoods:function(t){var n=this;this.$confirm("确定要从购物车删除该商品吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=n.goodsList.findIndex(function(n){return n.id==t});n.goodsList.splice(e,1),n.$store.commit("deleteGoodsById",t),n.$message({type:"success",message:"删除成功!"})}).catch(function(){n.$message({type:"info",message:"已取消删除"})})},continueBuy:function(){this.$router.push("/site/goodsList")},goToOrder:function(){var t=[];if(this.goodsList.forEach(function(n){n.isSelected&&t.push(n.id)}),0==t.length)return void this.$message({message:"请至少选择一件商品！",type:"warning"});this.$router.push({path:"/site/order/"+t.join(",")})}},components:{vcounter:o.default}}},352:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={data:function(){return{count:0}},props:["initCount","goodsId"],created:function(){this.count=this.initCount},methods:{increase:function(){this.count++,this.notify()},decrease:function(){this.count>1&&this.count--,this.notify()},notify:function(){this.$emit("countChange",{goodsId:this.goodsId,count:this.count})}}}},363:function(t,n,e){var i=e(364);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e(200).default;s("211ca250",i,!1,{})},364:function(t,n,e){n=t.exports=e(46)(!1),n.push([t.i,"\n.goods-info[data-v-70e08b9c] {\r\n  /* text-align: left; */\r\n  display: flex;\r\n  padding-left: 10px;\r\n  align-items: center;\n}\n.goods-info img[data-v-70e08b9c] {\r\n  width: 50px;\r\n  height: 50px;\r\n  margin: 0 10px;\n}\r\n",""])},365:function(t,n,e){"use strict";function i(t){d||e(366)}Object.defineProperty(n,"__esModule",{value:!0});var s=e(352),o=e.n(s);for(var r in s)"default"!==r&&function(t){e.d(n,t,function(){return s[t]})}(r);var a=e(368),c=e(199),d=!1,u=i,l=Object(c.a)(o.a,a.a,a.b,!1,u,"data-v-14961d5f",null);l.options.__file="src\\components\\subcomponents\\v-counter.vue",n.default=l.exports},366:function(t,n,e){var i=e(367);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e(200).default;s("fbe28bec",i,!1,{})},367:function(t,n,e){n=t.exports=e(46)(!1),n.push([t.i,"\n.v-counter[data-v-14961d5f] {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 130px;\r\n  line-height: 38px;\n}\n.v-counter-button[data-v-14961d5f] {\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: 1px;\r\n  width: 40px;\r\n  height: auto;\r\n  text-align: center;\r\n  background: #f5f7fa;\r\n  /* color: #606266;\r\n  cursor: pointer; */\r\n  font-size: 13px;\n}\n.v-counter-button-decrease[data-v-14961d5f] {\r\n  left: 1px;\r\n  border-radius: 4px 0 0 4px;\r\n  border-right: 1px solid #dcdfe6;\n}\n.v-counter-button-increase[data-v-14961d5f] {\r\n  right: 1px;\r\n  border-radius: 0 4px 4px 0;\r\n  border-left: 1px solid #dcdfe6;\n}\n.v-counter-input[data-v-14961d5f] {\r\n  display: block;\r\n  position: relative;\r\n  font-size: 14px;\r\n  width: 100%;\n}\n.v-counter-input-inner[data-v-14961d5f] {\r\n  -webkit-appearance: none;\r\n  padding-left: 50px;\r\n  padding-right: 50px;\r\n  text-align: center;\r\n  background-color: #fff;\r\n  background-image: none;\r\n  border-radius: 4px;\r\n  border: 1px solid #dcdfe6;\r\n  box-sizing: border-box;\r\n  color: #606266;\r\n  display: inline-block;\r\n  font-size: inherit;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  outline: none;\r\n  padding: 0 15px;\r\n  transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  width: 100%;\n}\r\n",""])},368:function(t,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"b",function(){return s});var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"v-counter"},[e("span",{staticClass:"v-counter-button v-counter-button-decrease",on:{click:t.decrease}},[e("i",{staticClass:"el-icon-minus"})]),t._v(" "),e("span",{staticClass:"v-counter-button v-counter-button-increase",on:{click:t.increase}},[e("i",{staticClass:"el-icon-plus"})]),t._v(" "),e("div",{staticClass:"v-counter-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"v-counter-input-inner",attrs:{type:"text"},domProps:{value:t.count},on:{input:function(n){n.target.composing||(t.count=n.target.value)}}})])])},s=[];i._withStripped=!0},369:function(t,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"b",function(){return s});var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticClass:"section"},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"bg-wrap"},[t._m(1),t._v(" "),e("div",{staticClass:"cart-box"},[e("input",{attrs:{id:"jsondata",name:"jsondata",type:"hidden"}}),t._v(" "),e("table",{staticClass:"cart-table",attrs:{width:"100%",align:"center",border:"0",cellspacing:"0",cellpadding:"8"}},[e("tbody",[t._m(2),t._v(" "),t._l(t.goodsList,function(n){return e("tr",{key:n.id},[e("td",{attrs:{width:"48",align:"center"}},[e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:n.isSelected,callback:function(e){t.$set(n,"isSelected",e)},expression:"item.isSelected"}})],1),t._v(" "),e("td",{attrs:{align:"left",colspan:"2"}},[e("div",{staticClass:"goods-info"},[e("img",{attrs:{src:n.img_url,alt:""}}),t._v(" "),e("span",[t._v(t._s(n.title))])])]),t._v(" "),e("td",{attrs:{width:"84",align:"left"}},[t._v(t._s(n.sell_price))]),t._v(" "),e("td",{attrs:{width:"104",align:"center"}},[e("vcounter",{attrs:{initCount:n.buyCount,goodsId:n.id},on:{countChange:t.getCountChange}})],1),t._v(" "),e("td",{attrs:{width:"104",align:"center"}},[t._v(t._s(n.sell_price*n.buyCount)+"(元)")]),t._v(" "),e("td",{attrs:{width:"54",align:"center"}},[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.deletGoods(n.id)}}},[t._v("删除")])])])}),t._v(" "),e("tr",[e("td",{attrs:{colspan:"10"}},[0==t.goodsList.length?e("div",{staticClass:"msg-tips"},[t._m(3),t._v(" "),t._m(4)]):t._e()])]),t._v(" "),e("tr",[e("th",{attrs:{align:"right",colspan:"8"}},[t._v("\n                  已选择商品\n                  "),e("b",{staticClass:"red",attrs:{id:"totalQuantity"}},[t._v(t._s(t.calcTotalCount))]),t._v(" 件     商品总金额（不含运费）：\n                  "),e("span",{staticClass:"red"},[t._v("￥")]),t._v(" "),e("b",{staticClass:"red",attrs:{id:"totalAmount"}},[t._v(t._s(t.calcTotalPrice))]),t._v("元\n                ")])])],2)])]),t._v(" "),e("div",{staticClass:"cart-foot clearfix"},[e("div",{staticClass:"right-box"},[e("button",{staticClass:"button",on:{click:t.continueBuy}},[t._v("继续购物")]),t._v(" "),e("button",{staticClass:"submit",on:{click:t.goToOrder}},[t._v("立即结算")])])])])])])])},s=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"section"},[e("div",{staticClass:"location"},[e("span",[t._v("当前位置：")]),t._v(" "),e("a",{attrs:{href:"/index.html"}},[t._v("首页")]),t._v(" >\n      "),e("a",{attrs:{href:"/cart.html"}},[t._v("购物车")])])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"cart-head clearfix"},[e("h2",[e("i",{staticClass:"iconfont icon-cart"}),t._v("我的购物车")]),t._v(" "),e("div",{staticClass:"cart-setp"},[e("ul",[e("li",{staticClass:"first active"},[e("div",{staticClass:"progress"},[e("span",[t._v("1.")]),t._v("\n                  放进购物车\n                ")])]),t._v(" "),e("li",[e("div",{staticClass:"progress"},[e("span",[t._v("2.")]),t._v("\n                  填写订单信息\n                ")])]),t._v(" "),e("li",{staticClass:"last"},[e("div",{staticClass:"progress"},[e("span",[t._v("3.")]),t._v("\n                  支付/确认订单\n                ")])])])])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("tr",[e("th",{attrs:{width:"48",align:"center"}},[e("a",[t._v("选择")])]),t._v(" "),e("th",{attrs:{align:"left",colspan:"2"}},[t._v("商品信息")]),t._v(" "),e("th",{attrs:{width:"84",align:"left"}},[t._v("单价")]),t._v(" "),e("th",{attrs:{width:"104",align:"center"}},[t._v("数量")]),t._v(" "),e("th",{attrs:{width:"104",align:"center"}},[t._v("金额(元)")]),t._v(" "),e("th",{attrs:{width:"54",align:"center"}},[t._v("操作")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"icon warning"},[e("i",{staticClass:"iconfont icon-tip"})])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"info"},[e("strong",[t._v("购物车没有商品！")]),t._v(" "),e("p",[t._v("您的购物车为空，\n                        "),e("a",{attrs:{href:"/index.html"}},[t._v("马上去购物")]),t._v("吧！")])])}];i._withStripped=!0}});